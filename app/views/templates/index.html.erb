<div class="container-fluid">

  <div class="page-header" xmlns="http://www.w3.org/1999/html">
    <h3>My Templates</h3>
  </div>

  <div>
    <p>
      <%= link_to '<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add a New Template'.html_safe, new_template_path, :class => "btn btn-default", :id => "new_template" %>
    </p>
  </div>

  <table class="table data-table-templates display" width="100%">
    <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Host</th>
      <th>Path</th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <% @templates.each_with_index do |template, index| %>
        <tr>
          <td><strong><%= template.name %></strong></td>
          <td><pre style="white-space: pre-wrap;"><%= template.notes %></pre></td>
          <td><%= template.host.titleize unless template.host.nil? %></td>
          <td><pre style="white-space: pre-wrap;"><%= template.path %></pre></td>
          <% if template.writable? %>
              <td><%= link_to '<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit Template'.html_safe, Filesystem.new.fs(template.path), target: '_blank', class: 'btn btn-primary' %></td>
              <td><%= link_to '<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete Folder'.html_safe, template_path(index, path: template.path.to_s), method: 'delete', data: { confirm: 'Are you certain you want to delete this?' }, class: 'btn btn-danger' %></td>
          <% else %>
              <td><%= link_to '<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> View Dir'.html_safe, Filesystem.new.fs(template.path), target: '_blank', class: 'btn btn-default' %></td>
              <td></td>
          <% end %>

        </tr>
    <% end %>
    </tbody>
  </table>
</div>

<ol id="joyride" style="display: none;" data-joyride>
  <li data-id="new_template">
    <p>
      Begin by adding a new template.
    </p>
  </li>
</ol>








