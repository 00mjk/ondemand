<%= bootstrap_form_for(@product, as: :product, url: form_url) do |f| %>
    <% if @product.new_record? %>
        <div class="field">
          <%= f.text_field :name, label: "Directory name" %>
        </div>
    <% end %>
    <% if (@product.new_record? || @product.git_repo?) %>
        <div class="field">
          <%= f.text_field :git_remote, help: "Example: <strong>git@github.com:Example/example.git</strong> (<a href='https://help.github.com/articles/generating-an-ssh-key/' target='_blank'>requires SSH key installed</a>)".html_safe %>
          <%= content_tag :pre, @product.errors[:git_remote_error].first.html_safe, class: "text-danger" if @product.errors[:git_remote_error].any? %>
        </div>
        <div class="alert alert-<%= ssh_key ? "success" : "danger" %> clearfix alert-ssh-key">
          <% if ssh_key %>
              <a class="text-success" role="button" data-toggle="collapse" href="#sshKeyValue" aria-expanded="false" aria-controls="collapseSshKeyValue">
                <i class="fa fa-check"></i> Detected locally generated SSH key
              </a>
              <div class="collapse" id="sshKeyValue">
                <p>
                <pre><%= ssh_key %></pre>
                Copy and add the above SSH key into a Git service provider of your choosing (e.g., GitHub, Bitbucket, ...)
                </p>
              </div>
          <% else %>
              <div class="pull-left">
                <i class="fa fa-times"></i> No SSH key was found, you will need to generate a locally installed SSH key
              </div>
              <%= link_to 'Generate SSH Key', create_key_path(type: @type), class: 'btn btn-default pull-right' %>
          <% end %>
          <%= hidden_field_tag :create_context, "create_from_git_remote" %>
        </div>
    <% end %>
    <div class="actions">
      <%= f.submit 'Submit' %>
    </div>
<% end %>
